\chapter{Future Work}\label{cha:future_work}
During the idea generation, design, implementation and testing of our app, we have gotten a lot of ideas for future work related to the project.
This chapter aims to highlight the ideas for future work which we find most interesting.

Many of these stems from \cnameref{cha:establishing_use_cases}, where we identified the use case we decided to work with: simultaneous playback to increase volume.
Later we made milestones in \cnameref{sec:milestones}, including more features and ideas that we could develop in time, so they are the first candidates for future work.
One of the late milestones, psychoacoustic effects, is very interesting in its opportunities, and will be dealt with separately from the other milestones.
In \cref{par:non_requirements} we made explicit non-requirements to focus our development, we deem these a necessity to make the product viable for publication on the Google Play Store.

\section{The Remaining Milestones}
The milestone \ref{milestone:advanced_audio_player} is concerned with adding some advanced but also common features to the app.
These are playlists, queuing, and support for external audio sources, such as Spotify.
Supporting external sources could prove a complicated task, since decoding it to PCM data could be a challenge, as such this would require a significant research into various external sources and how data is received from them.
Currently we only support MP3 files located on the master device.
It could also be useful in some use cases to allow slaves to add songs to a queue.
A way to achieve this could be the slave sending the entire file to the master ahead of playback, when added to the queue, and then the master could decode it to PCM and distribute it to all devices.
Alternatively depending on the external source used, Spotify supports a queue system, so does Youtube and many other audio sources, perhaps using their API and utilizing their respective queue systems would be possible.

The milestone \ref{milestone:manipulating_playback_offset} is concerned with manipulating the audio offset away from synchronization, the thought we had in mind when creating this milestone was that it would be usable for achieving a variety of psychoacoustic effects.
A way to implement this would be to change the \code{MusicData} messages sent to each device, where the timestamps are changed.

Lastly, while we achieve a better synchronization, and thus achieve the milestone \ref{milestone:advanced_sync}, it is still possible to improve the synchronization.
The lowest hanging fruit would be to use some or all of the corrective measures, see \tnote{ref til ntp vs sntp}, from \ac{NTP} in our time synchronization.
This could not only improve the offset in the best case, but also ensure that it is more stable over time.

\section{Psychoacoustic Effects}
In the beginning we put a lot of emphasis on psychoacoustic effects, first explained in \cref{sec:psychoacoustic_effects}.
We also made it one of the late milestones of our app, however we did not get the time to explicitly utilize it in the app.
Our vision was to utilize precise synchronization of audio, and the ability to manipulate it, stemming from the milestone \ref{milestone:manipulating_playback_offset}, to achieve psychoacoustic effects.
Additionally one would also need control of what audio is sent to, and played from, each device.
The simplest version of this is making a stereo system using a master and a slave, with stereo audio, one could play back the left channel on the master, and the right channel of the slave.
That way one could achieve a stereo effect.
However doing this automatically with many devices increases the complexity greatly.
This would require the app to have knowledge of the location of each device related to other devices, and possible information about the space around them.

\section{Commercialization of the App}
As previously mentioned we made explicit non-requirements in \cref{par:non_requirements} in order to focus on the core issue.
However if we wanted to make the app production ready, and release it in the Google Play Store, we should make some improvements.

Firstly, the UI we have is very primitive, and there is very little information given to the user, this could be greatly improved.
The slaves only get a toast when they connect to a network, they are unaware of which song is playing, etc.
We are already sending this information to the slaves, but we are not showing it.
The UI for the master, does not show if any slaves connect (other than it has to give them permission), and it does not have an overview over all the slaves connected.

Secondly the stability of the app could be improved in many ways.
For example we currently only allow slaves to connect prior to starting playback, they should be able to connect at any time as long as the network exists.

Thirdly as previously mentioned, supporting some external sources of music, for example Spotify, would also greatly improve the \ac{UX} of the app.

\section{Using an Alternative to WiFi Direct}
In a WiFi Direct network, there is an upper limit on the maximum number of connected devices, theoretically the limit is 254 devices in a group.
However in practice it is up to the implementation and hardware limitation on the devices in question, realistically the limit is in the six to ten devices range.\tnote{Det er svært at finde en reliable kilde på dette. Wat do?}\mnote{bare brug den kilde du har det fra, that has to suffice}
We purposely built the application to be bound to WiFi Direct as little as possible, such that it could be changed in the future if required.
That means that it should be possible to use other ways of communicating, the only element that is not readily changeable is the use of a socket connection.

%%%% Disposition %%%%

%Remaining Milestones
    %While we havnt really used milestones we still managed to come up with some good goals
    %Advanced sync & Offset manipulation
        %How would we obtain better sync?
            %^Explore avenues which we didn't look at
                %Audio?
                %Any NTP algorithms of value we could utilise? Cache for validation to at least avoid the occasional huge offset? %TK: Replacing SNTP with NTP would be an obvious future work
    %Psychoacoustics could be under this section as well, would make sense per the milestones.


%More Psychoacoustics
    %Many of the effects can only be used one at a time
        %Multiple modes
            %3D sound
                %Master as 3D target, wont play
            %Other effects of interest??
                %Just use 3D as main example and mention a bunch of others
            %TK: Stereo (2.0) or even 5 speaker setup ?

%Commercialising the Application
    %We are beating the market, lets commercialise
    %Stability
        %Crashes, join an existing session without crashing etc.
    %Scalability
        %Wi-Fi direct only supoports up to 8 devices.
            %May be fine for most cases but an increase would cover the festival use case scenario better, lots of people.
    %Usability - add as requirement rather than nonrequirement
        %Support Spotify (implicitly provides playlists, queue, etc.)
            %Request songs from master through spotify??(I have no idea how this would work but it would be neat)
    %TK: UI improvements!!!
