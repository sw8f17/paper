\begin{figure}
    \begin{tikzpicture}[auto, node distance=1.5cm,
            stage/.style={rectangle, minimum width=1.5cm, minimum height=1cm,text centered, fill=black!10, draw, align=center, font=\scriptsize
},
            preDefProc/.style={draw,rectangle split, rectangle split horizontal, rectangle split parts=3, fill=black!10, minimum width=1.5cm, minimum height=1cm, font=\scriptsize, inner sep=1},
            sharp/.style={rectangle, minimum width=9.0cm, minimum height=1cm,text centered, fill=diagramLight, draw, align=center},
            server/.style={rectangle, rounded corners, minimum width=1.5cm, minimum height=1cm,text centered, fill=diagramLight, rectangle split, rectangle split parts=2, draw},
            flow/.style={draw, ->},
            reverse_flow/.style={draw, <-},
            double_flow/.style={draw, <->},
            create/.style={draw, ->},
            use/.style={draw, dotted, ->}
        ]

        \node (github) at (0,0) [preDefProc] {\nodepart{two}{\begin{tabular}{c}Github \vspace{-0.15cm} \\ registers new \vspace{-0.15cm} \\ Pull Request\end{tabular}}};
        \node (ghost) [draw=none, right=1.5cm of github] {};
        \node (checkout) [stage, above=0.4cm of ghost] {Checkout branch \\ with pull request};
        \node (merge) [stage, below=0.4cm of ghost] {Merge pull request \\ with master \\ branch};
        \node (build) [stage, right=1.5cm of ghost] {Build application \\ and dependencies};
        \node (testing) [stage, right=1.0cm of build] {Testing, \\ Linting, \\ Generate \\ documentation};
        \node (package) [stage, right=1.0cm of testing] {Package \\ application};

        \coordinate (package_below) at (merge.south -| package.east);

        \draw [flow] (github) |- (checkout);
        \draw [flow] (github) |- (merge);
        \draw [flow] (merge) -| (build);
        \draw [flow] (checkout) -| (build);
        \draw [flow] (build) -- (testing);
        \draw [flow] (testing) -- (package);



    \draw [decoration={brace, mirror, amplitude=+20pt}, decorate]
        (merge.south west) -- (package_below.south east) node [black,midway,below=+21pt] 
        {Jenkins};

    \end{tikzpicture}
    
    \caption{Depiction of the workflow of our automated build system}\label{fig:jenkins_workflow}
\end{figure}
